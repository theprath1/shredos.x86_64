[Unit]
Description=ShredOS Vault Authentication Gate
DefaultDependencies=no
Before=initrd.target
After=systemd-udevd.service

[Service]
Type=oneshot
ExecStart=/usr/sbin/shredos-vault --initramfs --config /etc/shredos-vault/vault.conf
StandardInput=tty
StandardOutput=tty
StandardError=tty
TTYPath=/dev/console
TTYVHangup=yes
TTYReset=yes
RemainAfterExit=yes
Environment=TERM=linux

[Install]
WantedBy=initrd.target
